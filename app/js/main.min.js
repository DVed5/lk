let mediaCount=0,reportCount=0;const chatBody=document.getElementById("chat-body"),mediaFiles=document.getElementById("media-files"),reportFiles=document.getElementById("report-files");function appendChatMessage(e,t){const n=(new Date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),d=document.createElement("div");d.classList.add("message"),d.innerHTML=`<strong>${e}</strong>: ${t} <span class="time">${n}</span>`,chatBody.appendChild(d),chatBody.scrollTop=chatBody.scrollHeight}function simulateAsyncAction(e){const t=`Companyname ${"media"===e?++mediaCount:++reportCount}/25`,n="media"===e?mediaFiles:reportFiles,d=document.createElement("div");d.innerHTML=`<strong>${t}</strong><p>${"media"===e?"Медиаплан формируется...":"Отчет формируется..."}</p>`,n.appendChild(d),appendChatMessage("PinkChicken",`Заказ ${"media"===e?"медиаплана":"отчета"} принят. Ожидайте.`),setTimeout((()=>{d.innerHTML=`<strong>${t}</strong><p>${"media"===e?"Медиаплан":"Отчет"} от ${(new Date).toLocaleDateString("ru-RU")} готов</p>`,appendChatMessage("PinkChicken",`${"media"===e?"Медиаплан":"Отчет"} "${t}" сформирован`)}),2e3)}document.getElementById("order-media").addEventListener("click",(()=>simulateAsyncAction("media"))),document.getElementById("order-report").addEventListener("click",(()=>simulateAsyncAction("report"))),document.getElementById("send-message").addEventListener("click",(()=>{const e=document.getElementById("chat-message"),t=e.value.trim();t&&(appendChatMessage("Вы",t),e.value="")})),document.getElementById("chat-message").addEventListener("keydown",(e=>{"Enter"===e.key&&document.getElementById("send-message").click()}));